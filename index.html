<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mypager by romuald</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/romuald/mypager">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/romuald/mypager/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/romuald/mypager/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Mypager</h1>
          <p>Pager for mysql command line interface</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/romuald">romuald</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
        </div>

        <h1>My <em>(sql)</em>  Pager</h1>

<ul>
<li>
<code>Usage, Mysql</code>_</li>
<li>
<code>Usage, PostgreSQL</code>_</li>
<li>
<code>Configuration</code>_</li>
<li>
<code>TODO</code>_</li>
</ul><p>mypager is a tool meant to be used with the MySQL and PostgreSQL command line clients on unix platforms.</p>

<p>It's goal is to ease the reading of resultsets, doing 2 things:</p>

<ul>
<li>coloring data (numbers, dates and NULLs)</li>
<li>using the less command in case the output don't fit in the terminal</li>
</ul><p>Here is a sample output:</p>

<p>.. image:: <a href="http://chivil.com/mysqlpager/sample-colored.png">http://chivil.com/mysqlpager/sample-colored.png</a></p>

<p>It currently requires perl 5.8, preferably with the <code>Term::ReadKey &lt;http://search.cpan.org/dist/TermReadKey/ReadKey.pm&gt;</code>_ module
(should work without, using the <code>stty</code> command)</p>

<p>Usage, MySQL</p>

<hr><p>To use it you'll just have to tell your mysql client to use it as a pager::</p>

<p>mysql&gt; pager /path/to/mypager.pl</p>

<p>or edit your <code>~/.my.cnf</code> file::</p>

<p>[mysql]
      pager = /path/to/mypager.pl</p>

<p>Usage, PostgreSQL</p>

<hr><p>The script was originaly designed to work with MySQL, but an option exists in PostgreSQL client that format output as mypager expects it.</p>

<p>Unlike the mysql client, there is no specific option for the PostgreSQL pager, you'll have to use the <code>PAGER</code> environment variable, for example::</p>

<pre><code>export PAGER=/path/to/mypager.pl
psql --stuff
</code></pre>

<p>Or in your <code>.bashrc</code> / <code>.zshrc</code>::</p>

<pre><code>alias psql="PAGER=/path/to/mypager.pl psql"
</code></pre>

<p>Then, you'll have to edit your <code>.psqlrc</code> file to set 2 default options::</p>

<pre><code>-- Headers and surrounding pipes for columns
\pset border 2

-- mypager will decide when to switch to less, but will always add color
\pset pager always

-- You may want null to be NULL, at your discretion
-- \pset null NULL
</code></pre>

<p>Configuration</p>

<hr><p>The configuration file is located in <code>~/.mypager.conf</code>.</p>

<p>A default configuration is present at the end of the script itself, should you wish to modify it instead.</p>

<p>You can use <code>mypager.pl --installconf</code> to write the default configuration to <code>~/.mypager.conf</code>.</p>

<h2>Styles</h2>

<p>Current available styles are <code>style-int</code>, <code>style-null</code>, <code>style-date</code>, <code>style-header</code>, <code>style-row</code></p>

<p><em>header</em> and <em>row</em> styles are used for the <code>\G</code> option of the mysql client (vertically formated output)</p>

<p>You can use any recognized value of the <code>Term::ANSIColor &lt;http://search.cpan.org/dist/Term-ANSIColor/ANSIColor.pm#Function_Interface&gt;</code>_ module, and combine them as you please.</p>

<p>Some valid examples: <code>red</code>, <code>bold blue</code>, or <code>underline white on_black</code></p>

<h2>Other options</h2>

<p>long-lines-to-less
    0/**1**, with this option set to 1, the pager will switch to less whenever it encounters a line longer than screen width (even if the screen has enough height available)</p>

<p>less-options
    <strong>-S</strong>, these are the options sent to less (check out the <em>OPTIONS</em> section of the man page for a complete list). The default is to chop long lines, you can add your own choice here, like <em>-I</em> to make searches case insensitive.</p>

<p>less-options-overrides-env
    <strong>0</strong>/1, the default behavior is to add <em>less-options</em> before your <em>$LESS</em> environment variable so that the options set by your environment take precedence over the script options. Set to <em>1</em> to reverse the behavior.</p>

<p>use-less
    <strong>auto</strong>/always/never, will determine whenever or not to switch to less, should you wish to alway use it or just colorize the output</p>

<p>fix-utf8
    <strong>0</strong>/1, try to fix broken UTF-8 output of older (&lt; 5.5 ?) MySQL clients. This option fixes unaligned columns when 2 bytes characters are present in a cell.</p>

<p>TODO</p>

<hr><p>probably lots</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>